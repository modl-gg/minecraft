package gg.modl.minecraft.core;

import gg.modl.minecraft.api.LibraryRecord;

import java.util.Arrays;
import java.util.List;

/**
 * Defines libraries to be loaded at runtime via libby.
 * These libraries are downloaded and loaded dynamically instead of being shaded into the JAR.
 *
 * Note: Libraries loaded without relocation use their original package names.
 * Libraries that may conflict with server installations should use relocation.
 */
public final class Libraries {

    private Libraries() {
        // Utility class
    }

    // SnakeYAML - YAML parsing library (no relocation - uses org.yaml.snakeyaml)
    public static final LibraryRecord SNAKEYAML = LibraryRecord.of(
            "org{}yaml",
            "snakeyaml",
            "2.3",
            "snakeyaml",
            "NjNhNzZmZTY2YjY1MjM2MGJkNGMyYzEwN2U2ZjAyNThkYWE3ZDRiYjQ5MjAwOGJhOGMyNmZjZDIzMGZmOTE0Ng=="
    );

    // Gson - JSON serialization library (no relocation - uses com.google.gson)
    public static final LibraryRecord GSON = LibraryRecord.of(
            "com{}google{}code{}gson",
            "gson",
            "2.12.1",
            "gson",
            "ZWJlZTEzZDVmYjc0NzdjZDdmMWNjMDEwZTBjMzU2ZGY4Y2E4MDcwOTcxNTI0OGRhOTdmNzllMzVjY2I0ZmJlYw=="
    );

    // Apache HttpClient5 - HTTP client library
    public static final LibraryRecord HTTPCLIENT5 = LibraryRecord.of(
            "org{}apache{}httpcomponents{}client5",
            "httpclient5",
            "5.2.1",
            "httpclient5",
            "OTM1NWYzODc2YmFmODJmZWMxM2NlZDIyYzEyYjYyZDU3NTM2MjMwODM2NDA2ZDM1OTQ1OTEyOGU0ZjczZWQ1MQ=="
    );

    // Apache HttpCore5 - Required by HttpClient5
    public static final LibraryRecord HTTPCORE5 = LibraryRecord.of(
            "org{}apache{}httpcomponents{}core5",
            "httpcore5",
            "5.2.4",
            "httpcore5",
            "YTdmNjI0OTYxMTNmNjZmOWUyN2MyNmI4NGM0NGY1Y2U0NTU1YzYyNzAwODNjZGYyZDQ1ZjI1NTMzNmNkNTJhZg=="
    );

    // Apache HttpCore5 H2 - HTTP/2 support
    public static final LibraryRecord HTTPCORE5_H2 = LibraryRecord.of(
            "org{}apache{}httpcomponents{}core5",
            "httpcore5-h2",
            "5.2.4",
            "httpcore5-h2",
            "ZGMxYTk1ZTczZWIwNGRiOTM0NTE1MzNkMzkwY2UwMmM1M2IzMDFhMTBkYzM0M2QwOGM4NjJmMjkzNGIzZDMwZQ=="
    );

    // PacketEvents API (must be loaded before platform-specific implementations)
    public static final LibraryRecord PACKETEVENTS_API = LibraryRecord.of(
            "com{}github{}retrooper",
            "packetevents-api",
            "2.11.2",
            "packetevents-api",
            "ZGUyNTI1YzE3OWYzNjdjNTE4M2ViNzE0MWI5OGE3N2FiMjNhYTlkYjRjOWE5YmQ5ZGNjZjRhMDZmYTI3ZjBlMw=="
    );

    // PacketEvents Netty (required by platform implementations)
    public static final LibraryRecord PACKETEVENTS_NETTY = LibraryRecord.of(
            "com{}github{}retrooper",
            "packetevents-netty-common",
            "2.11.2",
            "packetevents-netty-common",
            "ODg1NTMyNjNjOGZmZjU5MjA5MTkwMjNkMjhkOTJmNGJjNGMxYjhiMjAxMmVhYTZmYjdlNDUwMDBiNGEyYTQyMw=="
    );

    // PacketEvents Spigot
    public static final LibraryRecord PACKETEVENTS_SPIGOT = LibraryRecord.of(
            "com{}github{}retrooper",
            "packetevents-spigot",
            "2.11.2",
            "packetevents-spigot",
            "MGNkODE2NTBjOThlOWYzZGViMWZhZTYxMzNkMzFlNDg1NjE2NThmYzJiNWM4NTM3ZGM1YmVjMDcxNjAzZmZlMQ=="
    );

    // PacketEvents BungeeCord
    public static final LibraryRecord PACKETEVENTS_BUNGEE = LibraryRecord.of(
            "com{}github{}retrooper",
            "packetevents-bungeecord",
            "2.11.2",
            "packetevents-bungeecord",
            "YmFhN2NkMjRmNjE5MTA2ZjE5YTZmMGJkNTU3MThhYTJiMWFjZmZkN2JlYWMzNzdjNDQxYjBiNGIxM2IyMDA2Nw=="
    );

    // PacketEvents Velocity
    public static final LibraryRecord PACKETEVENTS_VELOCITY = LibraryRecord.of(
            "com{}github{}retrooper",
            "packetevents-velocity",
            "2.11.2",
            "packetevents-velocity"
    );

    public static final LibraryRecord ADVENTURE_NBT = LibraryRecord.of(
        "net{}kyori",
        "adventure-nbt",
        "4.25.0",
        "adventure-nbt",
        "OGVlNmRhNjIxZjQ5NmYxNmM2MTlkZTZlYzVjMGI5YzE0MGNlYWM5Yjg5YzJhNWIzMzc3OTM4ZGJkNTVhMTYyZQ=="
    );

    // ACF - Annotation Command Framework (SNAPSHOT, loaded via direct URL)
    public static final LibraryRecord ACF_CORE = LibraryRecord.ofUrl(
            "co{}aikar",
            "acf-core",
            "0.5.1-SNAPSHOT",
            "acf-core",
            "https://repo.aikar.co/content/groups/aikar/co/aikar/acf-core/0.5.1-SNAPSHOT/acf-core-0.5.1-20260118.005649-52.jar",
            "Y2UxZGY2NmRjZTVlMzQyMjczYjExMjUzMTk4M2Y2MzcyNWExYjlmZDQ5YWYwODJhYzA0NzE5NjVmMjdjZDM1MA=="
    );

    public static final LibraryRecord ACF_BUKKIT = LibraryRecord.ofUrl(
            "co{}aikar",
            "acf-bukkit",
            "0.5.1-SNAPSHOT",
            "acf-bukkit",
            "https://repo.aikar.co/content/groups/aikar/co/aikar/acf-bukkit/0.5.1-SNAPSHOT/acf-bukkit-0.5.1-20260118.005649-52.jar",
            "MzFjNWNjOThmMWFiOTdhOTFiNTQ3NTcxMjI2MDk2MGFhZWU5MjUxMzg1NmVhMDc3OGY0MGQzZDZmNTgzMTQ1Yg=="
    );

    public static final LibraryRecord ACF_VELOCITY = LibraryRecord.ofUrl(
            "co{}aikar",
            "acf-velocity",
            "0.5.1-SNAPSHOT",
            "acf-velocity",
            "https://repo.aikar.co/content/groups/aikar/co/aikar/acf-velocity/0.5.1-SNAPSHOT/acf-velocity-0.5.1-20260118.005649-51.jar",
            "ZjhjNDVkNDljMjQ1NWZkYTk1YjYwNzU3NjFlNTk5MDNkMDlhODY1YjVmMWQwNTFiY2RiYTY5MzAwM2Q1YWQ1MA=="
    );

    public static final LibraryRecord ACF_BUNGEE = LibraryRecord.ofUrl(
            "co{}aikar",
            "acf-bungee",
            "0.5.1-SNAPSHOT",
            "acf-bungee",
            "https://repo.aikar.co/content/groups/aikar/co/aikar/acf-bungee/0.5.1-SNAPSHOT/acf-bungee-0.5.1-20260118.005649-52.jar",
            "NDAyZWFiNDJlM2M3N2QxMzU2NmJmYWFhNzBjZDY1Y2JkMmY3NzhhODU5NzQ2MDc4ZDVmZDIzNjBiMDY0M2ZmYg=="
    );

    // Cirrus - Inventory GUI framework (loaded via JitPack)
    public static final LibraryRecord CIRRUS_SPIGOT = LibraryRecord.ofUrl(
            "gg{}modl{}minecraft{}cirrus",
            "cirrus-spigot",
            "4.1.2-SNAPSHOT",
            "cirrus-spigot",
            "https://github.com/modl-gg/minecraft-cirrus/releases/download/4.1.2-SNAPSHOT/cirrus-spigot-4.1.2-SNAPSHOT.jar",
            "NTQ5MDMxMThlZmNmNTg5OGNkOTE5OGI4MjY3ZTVjNGM3NjE2ZWVmYTZiNmU3ZTZlMzAxODk1NzQzNWI4MmY5YQ=="
    );

    public static final LibraryRecord CIRRUS_VELOCITY = LibraryRecord.ofUrl(
            "gg{}modl{}minecraft{}cirrus",
            "cirrus-velocity",
            "4.1.2-SNAPSHOT",
            "cirrus-velocity",
            "https://github.com/modl-gg/minecraft-cirrus/releases/download/4.1.2-SNAPSHOT/cirrus-velocity-4.1.2-SNAPSHOT.jar",
            "MDY4ZDJiZDVjN2NhZWJlNDkyZWRmYzc1NDlkOTYwNmI5MGRmOTI5ZGY4ZTVmNWViYjdhZGQ0MjRmMDY0Mjg3Yw=="
    );

    public static final LibraryRecord CIRRUS_BUNGEECORD = LibraryRecord.ofUrl(
            "gg{}modl{}minecraft{}cirrus",
            "cirrus-bungeecord",
            "4.1.2-SNAPSHOT",
            "cirrus-bungeecord",
            "https://github.com/modl-gg/minecraft-cirrus/releases/download/4.1.2-SNAPSHOT/cirrus-bungeecord-4.1.2-SNAPSHOT.jar",
            "ZDg1NWIzZjNjMjIzOGI1MDQ5ZWY4NDJiZTVlOTVmYWQ2ZTQ1ZWVjOGUyMzk5MjQ3Y2U1MDVjYTNjMjMwMjBmYQ=="
    );

    // Adventure - UI library for Minecraft (adventure-api requires adventure-key and examination libs)
    public static final LibraryRecord ADVENTURE_KEY = LibraryRecord.of(
            "net{}kyori",
            "adventure-key",
            "4.26.1",
            "adventure-key",
            "ZWVjMTcyZDYzZGI3N2I0MGViN2FiZWViMjVmNjVlZWRlYTg5YmQzMDI2NGQwNTdiNjhiMTJmZWNiNzMxYmU1ZQ=="
    );

    public static final LibraryRecord EXAMINATION_API = LibraryRecord.of(
            "net{}kyori",
            "examination-api",
            "1.3.0",
            "examination-api",
            "YzkyMzdmZmVjYjA1NDI4ZjZlZmY4NjIxNjI0NmFjNzBjZTBiNDdiMDRjMDhlYTdjYTM1MDIwZmRlNTdmODQ5Mg=="
    );

    public static final LibraryRecord EXAMINATION_STRING = LibraryRecord.of(
            "net{}kyori",
            "examination-string",
            "1.3.0",
            "examination-string",
            "N2QwMWZjMjVhNGJiM2FmMGUxNjYyNjg1NDU1ZjQ1NDFmYmY0NjI2MjE2ZWE1ODQ2ZTQ1NWMxNDkxZTE1NmI4Yw=="
    );

    public static final LibraryRecord ADVENTURE_API = LibraryRecord.of(
            "net{}kyori",
            "adventure-api",
            "4.26.1",
            "adventure-api",
            "NTUxZTUzNmI5ZWE4NjhmMzBlNzJjNzkwMGEzMDliMzUxMjRlZTdkNDg4OWZhM2IzYWVkMDkxMDI5OTc1MWEyNg=="
    );

    public static final LibraryRecord ADVENTURE_TEXT_SERIALIZER_LEGACY = LibraryRecord.of(
            "net{}kyori",
            "adventure-text-serializer-legacy",
            "4.26.1",
            "adventure-text-serializer-legacy",
            "NzIxMTA3YmMyMTM1NzI0NTRkZjFiZmJlNDM4ZGJhNjMwZTMwNDU3NTUwYzc1MGI3YTE1NGIzNWRjMzI2NGFhOA=="
    );

    /**
     * Common libraries loaded by all platforms.
     * These are the core dependencies needed for the plugin to function.
     */
    public static final List<LibraryRecord> COMMON = Arrays.asList(
            SNAKEYAML,
            GSON,
            HTTPCLIENT5,
            HTTPCORE5,
            HTTPCORE5_H2,
            ADVENTURE_NBT
    );
}
